# Diversity Checking Architecture - Visual Diagrams

---

## 1. INTEGRATION DIAGRAM: CREATE MODE

### Current Architecture (before)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP C-03: Write Post                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

c-03a: Select Idea
    â†“
c-03b: Select Angle â† [DIRECT]
    â†“
c-03c: Draft
    â†“
c-03d: Variants
    â†“
c-03e: Finalize
```

### New Architecture (with diversity checking)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP C-03: Write Post (Enhanced)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

c-03a: Select Idea
    â†“
[NEW] c-03a-DIVERSITY-CHECK â† QUALITY GATE
    â”‚
    â”œâ”€â”€â”€ diversity_score >= 60? â”€â”€â”
    â”‚                              â”‚
    â”‚                         YES (proceed)
    â”‚                              â”‚
    â”‚                         NO (trigger?)
    â”‚                              â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚        â”‚                    â”‚
    â”œâ”€[A]   [B]                 [C]
    â”‚  â”‚     â”‚                   â”‚
    â”‚  â–¼     â–¼                   â–¼
    â”‚ Consilium Override        Back
    â”‚  (4 agents)               (select
    â”‚  2 min run)                new)
    â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â†’ suggestions â”€â”€â†’ user picks strategy
    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
c-03b: Select Angle (informed by diversity)
    â”‚
    â”œâ”€ Display diversity_score
    â”œâ”€ Show similar_posts_ids
    â””â”€ Show consilium_suggestions (if any)
    â”‚
    â†“
c-03c: Draft
    â†“
c-03d: Variants
    â†“
c-03e: Finalize
    â†“
c-06d: Save (with diversity metadata)
```

---

## 2. INTEGRATION DIAGRAM: YOLO MODE

### Current Architecture (before)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ YOLO: Full Automation                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

yolo-01: Input
    â†“ (5 ideas)
yolo-02: Parallel Execute
    â”œâ”€ Add ideas
    â”œâ”€ Research ideas
    â””â”€ Write posts
    â†“
yolo-03: Self-check
    â†“
yolo-04: Auto-improve
    â†“
yolo-05: Variants
    â†“
yolo-06: Summary
```

### New Architecture (with batch diversity)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ YOLO: Full Automation (Enhanced)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

yolo-01: Input (5 ideas)
    â†“
[NEW] yolo-02a-DIVERSITY-CHECK â† BATCH QUALITY GATE
    â”‚
    â”œâ”€ Parallel score all 5 ideas (1-2 sec)
    â”œâ”€ Cross-idea similarity matrix
    â”‚  â”œâ”€ Idea_1 â†” Idea_2: 15%
    â”‚  â”œâ”€ Idea_1 â†” Idea_3: 72% âš ï¸ DUPLICATE
    â”‚  â””â”€ Idea_4 â†” Idea_5: 68% âš ï¸ SIMILAR
    â”‚
    â”œâ”€ Annotate each idea:
    â”‚  â”œâ”€ Idea_1: âœ“ PASS (diversity_score=82)
    â”‚  â”œâ”€ Idea_2: âœ“ PASS (diversity_score=78)
    â”‚  â”œâ”€ Idea_3: ğŸš« DUPLICATE (remove?)
    â”‚  â”œâ”€ Idea_4: âœ“ PASS (diversity_score=71)
    â”‚  â””â”€ Idea_5: âœ“ PASS (diversity_score=88)
    â”‚
    â””â”€â†’ Output: 4-5 annotated ideas
    â”‚
    â†“
yolo-02: Parallel Execute (uses annotated list)
    â”œâ”€ Add ideas (4-5, pre-filtered)
    â”œâ”€ Research ideas (parallel, optimized)
    â””â”€ Write posts (with diversity metadata)
    â†“
yolo-03: Self-check (includes diversity report)
    â†“
yolo-04: Auto-improve
    â†“
yolo-05: Variants
    â†“
yolo-06: Summary (with diversity metrics)
```

---

## 3. AGENT PARALLEL EXECUTION DIAGRAM

### Single Idea Analysis (CREATE Mode)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ c-03a-diversity-check.md                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PHASE 1: LOAD (Sequential - 1 agent)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Agent_loader            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Load idea_82 details    â”‚
â”‚ Load 145 posts DB       â”‚
â”‚ Load embeddings cache   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        (2 sec)


PHASE 2: PARALLEL SIMILARITY SCORING
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Main Coordinator (hierarchical topology)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚ â”‚ Agent_1      â”‚  â”‚ Agent_2      â”‚  â”‚ Agent_3      â”‚          â”‚
â”‚ â”‚              â”‚  â”‚              â”‚  â”‚              â”‚          â”‚
â”‚ â”‚ vs posts     â”‚  â”‚ vs posts     â”‚  â”‚ vs posts     â”‚  ...    â”‚
â”‚ â”‚ 1-25         â”‚  â”‚ 26-50        â”‚  â”‚ 51-75        â”‚          â”‚
â”‚ â”‚ Similarity:  â”‚  â”‚ Similarity:  â”‚  â”‚ Similarity:  â”‚          â”‚
â”‚ â”‚ 0.45         â”‚  â”‚0.82         â”‚  â”‚ 0.61         â”‚          â”‚
â”‚ â”‚ DONE (35ms)  â”‚  â”‚ DONE (38ms)  â”‚  â”‚ DONE (36ms)  â”‚          â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚ â”‚ Agent_4      â”‚  â”‚ Agent_5      â”‚  â”‚ Agent_6      â”‚          â”‚
â”‚ â”‚              â”‚  â”‚              â”‚  â”‚              â”‚          â”‚
â”‚ â”‚ vs posts     â”‚  â”‚ vs posts     â”‚  â”‚ vs posts     â”‚          â”‚
â”‚ â”‚ 76-100       â”‚  â”‚ 101-125      â”‚  â”‚ 126-145      â”‚          â”‚
â”‚ â”‚ Similarity:  â”‚  â”‚ Similarity:  â”‚  â”‚ Similarity:  â”‚          â”‚
â”‚ â”‚ 0.52         â”‚  â”‚ 0.38         â”‚  â”‚ 0.49         â”‚          â”‚
â”‚ â”‚ DONE (34ms)  â”‚  â”‚ DONE (37ms)  â”‚  â”‚ DONE (35ms)  â”‚          â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                 â”‚
â”‚ [ALL RUN IN PARALLEL - Max 38ms, not 6Ã—40ms=240ms!]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        (38 ms total)
        Timeline: â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


PHASE 3: AGGREGATION (Sequential - 1 agent)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Agent_aggregator                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Scores: [0.45, 0.82, 0.61, ...]     â”‚
â”‚ Max similarity: 0.82                 â”‚
â”‚ diversity_score = (1 - 0.82) Ã— 100  â”‚
â”‚ Result: 18 âŒ LOW                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        (5 ms)


PHASE 4: DECISION & CONSILIUM (if needed)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ IF diversity_score < 60: Trigger Consilium                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚ â”‚ Agent_coordinatorâ”‚  â”‚Agent_content-analâ”‚                     â”‚
â”‚ â”‚                  â”‚  â”‚                  â”‚                     â”‚
â”‚ â”‚ Leads discussion â”‚  â”‚ Analyzes post_89 â”‚                     â”‚
â”‚ â”‚ Consolidates    â”‚  â”‚ Identifies gaps  â”‚                     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                                                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚ â”‚Agent_strategist  â”‚  â”‚Agent_market-anal â”‚                     â”‚
â”‚ â”‚                  â”‚  â”‚                  â”‚                     â”‚
â”‚ â”‚ Proposes angles  â”‚  â”‚ Evaluates oppty  â”‚                     â”‚
â”‚ â”‚ 3-5 suggestions  â”‚  â”‚ Ranks by value   â”‚                     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                                                                  â”‚
â”‚ [Communication via shared memory - hooks]                       â”‚
â”‚ [Consensus: RAFT (coordinator maintains truth)]                 â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        (120 seconds - full consilium)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OUTPUT: 3-5 ranked suggestions       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. Security angle (92/100)          â”‚
â”‚ 2. ROI calculator (78/100)          â”‚
â”‚ 3. Legal niche (71/100)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


TOTAL TIME ANALYSIS:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Sequential approach:
  145 posts Ã— 40ms per comparison = 5,800ms (5.8 sec)

Parallel approach:
  Phase 1 (load): 2,000ms
  Phase 2 (parallel): 38ms â† 150x faster!
  Phase 3 (aggregation): 5ms
  Total without consilium: ~2,050ms (2.1 sec)

  If consilium needed: +120,000ms (2 min)

Speedup: 2.8x (without consilium)
         50x (with optimal caching)
```

---

## 4. BATCH DIVERSITY ANALYSIS DIAGRAM (YOLO MODE)

### Parallel Processing with Agent Pool Reuse

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ yolo-02a-diversity-check.md (YOLO Mode)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

INPUT: 5 ideas
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Idea_1: "Ğ˜Ğ˜ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚"
Idea_2: "Speech-to-text"
Idea_3: "Ğ’Ñ€ĞµĞ¼Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸"
Idea_4: "5 Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²"
Idea_5: "ĞœĞ°Ñ€ĞºĞµÑ‚Ğ¸Ğ½Ğ³ Ğ´Ğ»Ñ SaaS"


PHASE 1: PARALLEL LOAD (3 agents)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Agent_posts  â”‚  â”‚ Agent_ideas  â”‚  â”‚Agent_cache   â”‚
â”‚              â”‚  â”‚              â”‚  â”‚              â”‚
â”‚ Load CSV     â”‚  â”‚ Load input   â”‚  â”‚ Pre-warm     â”‚
â”‚ 145 posts    â”‚  â”‚ 5 ideas      â”‚  â”‚ embeddings   â”‚
â”‚ DONE (50ms)  â”‚  â”‚ DONE (20ms)  â”‚  â”‚ DONE (100ms) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
[Parallel - all 3 at once, ~100ms total]


PHASE 2: BATCH GROUPING (1 agent)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Agent_grouper                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Group ideas by topic:                       â”‚
â”‚                                             â”‚
â”‚ Group A: [Idea_1, Idea_3] (automation)     â”‚
â”‚ Group B: [Idea_2] (unique)                 â”‚
â”‚ Group C: [Idea_4, Idea_5] (tools/market)   â”‚
â”‚                                             â”‚
â”‚ Benefit: Share baseline context             â”‚
â”‚ Reduction: 5â†’3 effective comparison units   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


PHASE 3: PARALLEL BATCH SCORING (6 agents, multiple waves)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WAVE 1: Idea_1, Idea_2, Idea_3 (in parallel)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Agent_1               Agent_2              Agent_3        â”‚
â”‚  Score Idea_1          Score Idea_2         Score Idea_3   â”‚
â”‚  vs 145 posts          vs 145 posts         vs 145 posts   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 0.12â”‚0.45   â”‚       â”‚ 0.18â”‚0.52    â”‚     â”‚0.72â”‚0.18  â”‚  â”‚
â”‚  â”‚ 0.33â”‚0.82   â”‚       â”‚ 0.25â”‚0.38    â”‚     â”‚0.42â”‚0.55  â”‚  â”‚
â”‚  â”‚ ...          â”‚       â”‚ ...           â”‚     â”‚...        â”‚  â”‚
â”‚  â”‚ Max: 0.82   â”‚       â”‚ Max: 0.52    â”‚     â”‚ Max: 0.72 â”‚  â”‚
â”‚  â”‚ Score: 18   â”‚       â”‚ Score: 48    â”‚     â”‚ Score: 28 â”‚  â”‚
â”‚  â”‚ DONE (38ms) â”‚       â”‚ DONE (37ms)  â”‚     â”‚DONE(36ms) â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚  [ALL PARALLEL - 38ms total, not 3Ã—40ms=120ms]             â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WAVE 2: Idea_4, Idea_5 (Agents REUSED - no spawn)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Agent_1 (reused)      Agent_2 (reused)                    â”‚
â”‚  Score Idea_4          Score Idea_5                        â”‚
â”‚  vs 145 posts          vs 145 posts                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚ 0.15â”‚0.38    â”‚      â”‚ 0.22â”‚0.48    â”‚                   â”‚
â”‚  â”‚ 0.41â”‚0.52    â”‚      â”‚ 0.38â”‚0.61    â”‚                   â”‚
â”‚  â”‚ ...           â”‚      â”‚ ...           â”‚                   â”‚
â”‚  â”‚ Max: 0.52    â”‚      â”‚ Max: 0.48    â”‚                   â”‚
â”‚  â”‚ Score: 48    â”‚      â”‚ Score: 52    â”‚                   â”‚
â”‚  â”‚DONE (39ms)   â”‚      â”‚DONE (37ms)   â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                             â”‚
â”‚  [Reusing warm agents - saves ~100ms spawn overhead!]      â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Timeline visualization:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 1 (Load): â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• 100ms              â”‚
â”‚                                                     â”‚
â”‚ Phase 2 (Group): â•â• 20ms                           â”‚
â”‚                                                     â”‚
â”‚ Wave 1: â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• 38ms              â”‚
â”‚                                                     â”‚
â”‚ Wave 2: â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• 39ms              â”‚
â”‚                                                     â”‚
â”‚ Total: ~200ms (not 5 ideas Ã— 1000ms = 5000ms!)    â”‚
â”‚        25x faster than sequential!                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


PHASE 4: CROSS-IDEA SIMILARITY MATRIX
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Compare ideas against EACH OTHER        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚        Idea_1  Idea_2  Idea_3  ...      â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚
â”‚ Idea_1  100%    12%     72%   ...       â”‚
â”‚ Idea_2   12%    100%    15%   ...       â”‚
â”‚ Idea_3   72%    15%     100%  ... âš ï¸    â”‚
â”‚ Idea_4   28%    22%     31%   ...       â”‚
â”‚ Idea_5   18%    25%     22%   ...       â”‚
â”‚                                         â”‚
â”‚ Issues detected:                        â”‚
â”‚ â”œâ”€ Idea_1 â†” Idea_3: 72% similar        â”‚
â”‚ â”‚  â””â”€ ACTION: Remove Idea_3?           â”‚
â”‚ â”‚                                      â”‚
â”‚ â””â”€ All others: OK                      â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


PHASE 5: ANNOTATED OUTPUT
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Enhanced Idea List (ready for yolo-02-parallel-execute)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚ Idea_1 {                                                   â”‚
â”‚   title: "Ğ˜Ğ˜ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚ Ğ·Ğ° 3Ñ‡",                             â”‚
â”‚   diversity_score: 82,        âœ“ PASS                      â”‚
â”‚   similar_posts_ids: [],                                  â”‚
â”‚   similar_ideas_ids: ["Idea_3"],                          â”‚
â”‚   flag: "PASS"                                            â”‚
â”‚ }                                                          â”‚
â”‚                                                             â”‚
â”‚ Idea_2 {                                                   â”‚
â”‚   title: "Speech-to-text",                               â”‚
â”‚   diversity_score: 48,        âš ï¸ WARNING                  â”‚
â”‚   similar_posts_ids: ["post_88"],                         â”‚
â”‚   similar_ideas_ids: [],                                  â”‚
â”‚   flag: "WARNING"             (could trigger consilium)   â”‚
â”‚ }                                                          â”‚
â”‚                                                             â”‚
â”‚ Idea_3 {                                                   â”‚
â”‚   title: "Ğ’Ñ€ĞµĞ¼Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸",                          â”‚
â”‚   diversity_score: 28,        ğŸš« DUPLICATE                â”‚
â”‚   similar_posts_ids: ["post_45"],                         â”‚
â”‚   similar_ideas_ids: ["Idea_1"],                          â”‚
â”‚   flag: "DUPLICATE"           (remove from batch)         â”‚
â”‚ }                                                          â”‚
â”‚                                                             â”‚
â”‚ Idea_4 {                                                   â”‚
â”‚   title: "5 Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²",                               â”‚
â”‚   diversity_score: 48,        âš ï¸ WARNING                  â”‚
â”‚   similar_posts_ids: ["post_89", "post_112"],             â”‚
â”‚   similar_ideas_ids: [],                                  â”‚
â”‚   flag: "WARNING"                                         â”‚
â”‚ }                                                          â”‚
â”‚                                                             â”‚
â”‚ Idea_5 {                                                   â”‚
â”‚   title: "ĞœĞ°Ñ€ĞºĞµÑ‚Ğ¸Ğ½Ğ³ SaaS",                               â”‚
â”‚   diversity_score: 88,        âœ“ PASS                      â”‚
â”‚   similar_posts_ids: [],                                  â”‚
â”‚   similar_ideas_ids: [],                                  â”‚
â”‚   flag: "PASS"                                            â”‚
â”‚ }                                                          â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

RECOMMENDATION:
  â”œâ”€ Process: Idea_1, Idea_2, Idea_4, Idea_5 (4 ideas)
  â”œâ”€ Remove: Idea_3 (duplicate of Idea_1)
  â””â”€ Note: Idea_2 & Idea_4 may benefit from consilium
```

---

## 5. DECISION TREE: DIVERSITY THRESHOLD

```
Is diversity_score >= 60?
â”‚
â”œâ”€ YES (Idea is diverse enough)
â”‚  â”‚
â”‚  â””â”€â†’ âœ… PASS
â”‚     â”œâ”€ diversity_score stored
â”‚     â””â”€ Proceed to next step
â”‚
â””â”€ NO (Idea is too similar)
   â”‚
   â”œâ”€ Display similar posts: [post_89, post_112]
   â”œâ”€ Offer options:
   â”‚
   â”œâ”€ [A] ANALYZE WITH CONSILIUM
   â”‚  â”‚
   â”‚  â”œâ”€ Spawn 4 agents: (2 min discussion)
   â”‚  â”‚  â”œâ”€ Content Analyst
   â”‚  â”‚  â”œâ”€ Strategy Innovator
   â”‚  â”‚  â”œâ”€ Market Analyst
   â”‚  â”‚  â””â”€ Coordinator
   â”‚  â”‚
   â”‚  â”œâ”€ Return: 3-5 suggestions
   â”‚  â”‚  â”œâ”€ Angle 1 (92/100) â† recommendation
   â”‚  â”‚  â”œâ”€ Angle 2 (78/100)
   â”‚  â”‚  â””â”€ Angle 3 (71/100)
   â”‚  â”‚
   â”‚  â””â”€â†’ User selects â†’ differentiation_strategy = "Angle_1"
   â”‚     â””â”€ Proceed with strategy noted
   â”‚
   â”œâ”€ [B] OVERRIDE (Accept Risk)
   â”‚  â”‚
   â”‚  â”œâ”€ Log: "User accepted similarity risk"
   â”‚  â””â”€â†’ Proceed normally (no consilium)
   â”‚
   â””â”€ [C] BACK (Select Different Idea)
      â”‚
      â””â”€â†’ Return to idea selection step
```

---

## 6. DATA FLOW: CSV PERSISTENCE

```
c-03a-diversity-check.md
â”‚
â”œâ”€ Calculates diversity_score, similar_posts_ids
â”œâ”€ If consilium triggered: consilium_suggestions
â”‚
â””â”€â†’ Forward to c-03b-select-angle.md
   â”‚
   â””â”€â†’ Forward to c-03c-draft.md
      â”‚
      â””â”€â†’ Forward to c-06d-save.md
         â”‚
         â”œâ”€ Write post to posts_content.csv
         â”‚  â”œâ”€ diversity_score â† from earlier
         â”‚  â”œâ”€ similar_posts_ids â† from earlier
         â”‚  â”œâ”€ diversity_check_date â† timestamp
         â”‚  â”œâ”€ consilium_triggered â† true/false
         â”‚  â”œâ”€ consilium_suggestions â† [list]
         â”‚  â””â”€ differentiation_strategy â† selected
         â”‚
         â””â”€â†’ Post-task Hook (auto-save)
            â”‚
            â”œâ”€ Extract diversity metadata
            â”œâ”€ Store in memory: shared-knowledge:diversity:*
            â””â”€ Update metrics_tracking.csv
```

---

## 7. AGENT COMMUNICATION ARCHITECTURE

### Memory-Based (Async)

```
Agent_1                          Shared Memory                    Agent_2
   â”‚                               (Hooks)                          â”‚
   â”‚                          shared-knowledge:                     â”‚
   â”‚                          diversity:idea_82                     â”‚
   â”œâ”€ Calculate              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
   â”‚  similarity             â”‚ vs_posts_1_25: 0.45 â”‚              â”‚
   â”‚  vs posts 1-25          â”‚ timestamp: ...       â”‚              â”‚
   â”‚                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
   â””â”€ Write result  â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚                      â”‚ â†â”€ Read    â”‚
                              â”‚ vs_posts_26_50: ... â”‚              â”‚
                              â”‚ (Agent_2's result)  â”‚              â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
                                     â”‚
                                     â”‚ Aggregator reads all
                                     â”‚
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚ final_score: 42      â”‚
                              â”‚ max_similarity: 0.82 â”‚
                              â”‚ diverse: false       â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Benefits:
  âœ“ No direct agent-to-agent communication
  âœ“ Asynchronous (agents don't wait)
  âœ“ Replayable (results stored in memory)
  âœ“ Resilient (if agent fails, others complete)
```

### Consilium-Based (Sync)

```
Agent_Coordinator (Leader - maintains truth with RAFT)
   â”‚
   â”œâ”€ Polls all agents for proposals
   â”‚
   â”œâ”€ Agent_Content-Analyst       Agent_Strategy-Innovator
   â”‚     â”‚                              â”‚
   â”‚     "Post covers X, missing Y"    "We could do angle A, B, C"
   â”‚     â”‚                              â”‚
   â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ Shared Memory â†â”€â”€â”€â”˜
   â”‚              (consensus-building)
   â”‚
   â””â”€ RAFT consensus: 3 agents agree â†’ decision made
      â””â”€ Coordinator commits result
         â””â”€ Return to user
```

---

## 8. PERFORMANCE COMPARISON TABLE

### Sequential vs Parallel vs Optimized

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Operation           â”‚Sequential â”‚Parallel â”‚Optimized â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Single idea check   â”‚ 30.0 sec  â”‚ 2.5 sec â”‚ 1.2 sec* â”‚
â”‚ (145 existing posts)â”‚           â”‚         â”‚          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Batch check (5 ideas)â”‚ 150.0 sec â”‚ 2.0 sec â”‚ 0.5 sec* â”‚
â”‚ (145 existing posts)â”‚           â”‚         â”‚          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Consilium analysis  â”‚    â€”      â”‚120.0 secâ”‚100.0 sec*â”‚
â”‚ (4 agents, 3-5 sugg)â”‚           â”‚         â”‚          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Agent spawn overheadâ”‚    â€”      â”‚ 200 ms  â”‚  50 ms*  â”‚
â”‚ (pool reuse)        â”‚           â”‚         â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

* With optimizations:
  - Embedding cache: 70%+ hit rate (-50% time)
  - Agent pool reuse: No spawn overhead (-200ms)
  - Batch context sharing: Reduced comparisons (-20%)

Overall speedup: 25-50x faster than naive sequential!
```

---

**Document:** Architecture Diagrams
**Status:** Ready for Reference
**Last Updated:** 2026-01-30

